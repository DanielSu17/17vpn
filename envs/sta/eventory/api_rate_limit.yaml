# Usage:
#     any request match the regular expression "/v1/abc/[0-9]*/def" will be under
#     ratelimiting with QPS 100, and burst QPS = 200
#     `scope` can be `by_global`, `by_ip` or `by_access_token` for now
#
# Remarks:
#     reservoir_size must be non-zero. Otherwise the leakybucket algorithm will fail.
#     reservoir_size should be larger than flow_per_second, otherwise the actual
#     allowed QPS may be lower than specified flow_per_second
#
# Example:
# rate_limits:
# - url: "/v1/abc/[0-9]*/def"
#   method: "GET"
#   flow_per_second: 100
#   reservoir_size: 200
#   scope: by_access_token

rate_limits:
- {url: "/api/v1/eventory/leaderboards/[A-Za-z0-9-]+/satisfy", method: "POST", flow_per_second: 1, reservoir_size: 3, scope: by_global}

# cdn cache new apis, see TECH-1677
- {url: "/api/v1/army/overview/[A-Za-z0-9-]+",           method: "GET",  flow_per_second: 480, reservoir_size: 480, scope: by_global}
- {url: "/api/v1/army/relation/[A-Za-z0-9-]+",           method: "GET",  flow_per_second: 480, reservoir_size: 480, scope: by_global}
- {url: "/api/v1/event/customEventV2/gifts",             method: "GET",  flow_per_second: 130, reservoir_size: 130, scope: by_global}
- {url: "/api/v1/event/personalBanners",                 method: "GET",  flow_per_second: 410, reservoir_size: 410, scope: by_global}
- {url: "/api/v1/users/[A-Za-z0-9-]+/getFollowStatusV2", method: "POST", flow_per_second: 200, reservoir_size: 200, scope: by_global}

